(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1751:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/mithril_client_wasm_bg.1524725a.wasm"},4345:(e,t,n)=>{Promise.resolve().then(n.bind(n,5073))},8697:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=["https://aggregator.release-mainnet.api.mithril.network/aggregator","https://aggregator.release-preprod.api.mithril.network/aggregator","https://aggregator.pre-release-preview.api.mithril.network/aggregator","https://aggregator.testing-preview.api.mithril.network/aggregator","https://aggregator.testing-sanchonet.api.mithril.network/aggregator","http://localhost:8080/aggregator"]},5073:(e,t,n)=>{"use strict";let r;n.r(t),n.d(t,{default:()=>e3});var i=n(5155),s=n(2115),a=n(3391),c=n(6046),o=n(3339),l=n(6835),d=n(6565),_=n(5781);let h="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&h.decode();let g=null;function u(){return(null===g||0===g.byteLength)&&(g=new Uint8Array(r.memory.buffer)),g}function f(e,t){return e>>>=0,h.decode(u().subarray(e,e+t))}function b(e){let t=r.__externref_table_alloc();return r.__wbindgen_export_2.set(t,e),t}function x(e,t){try{return e.apply(this,t)}catch(t){let e=b(t);r.__wbindgen_exn_store(e)}}function m(e){return null==e}let j=0,w="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},p="function"==typeof w.encodeInto?function(e,t){return w.encodeInto(e,t)}:function(e,t){let n=w.encode(e);return t.set(n),{read:e.length,written:n.length}};function v(e,t,n){if(void 0===n){let n=w.encode(e),r=t(n.length,1)>>>0;return u().subarray(r,r+n.length).set(n),j=n.length,r}let r=e.length,i=t(r,1)>>>0,s=u(),a=0;for(;a<r;a++){let t=e.charCodeAt(a);if(t>127)break;s[i+a]=t}if(a!==r){0!==a&&(e=e.slice(a)),i=n(i,r,r=a+3*e.length,1)>>>0;let t=p(e,u().subarray(i+a,i+r));a+=t.written,i=n(i,r,a,1)>>>0}return j=a,i}let y=null;function A(){return(null===y||!0===y.buffer.detached||void 0===y.buffer.detached&&y.buffer!==r.memory.buffer)&&(y=new DataView(r.memory.buffer)),y}let C="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>{r.__wbindgen_export_5.get(e.dtor)(e.a,e.b)});function S(e,t){let n=t(4*e.length,4)>>>0,r=A();for(let t=0;t<e.length;t++)r.setUint32(n+4*t,b(e[t]),!0);return j=e.length,n}function k(e,t){if(!(e instanceof t))throw Error("expected instance of ".concat(t.name))}function N(e,t){e>>>=0;let n=A(),i=[];for(let s=e;s<e+4*t;s+=4)i.push(r.__wbindgen_export_2.get(n.getUint32(s,!0)));return r.__externref_drop_slice(e,t),i}function I(e,t,n){r.closure2436_externref_shim(e,t,n)}let F=["omit","same-origin","include"],z=["same-origin","no-cors","cors","navigate"],E="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_blocknumber_free(e>>>0,1));class T{static __wrap(e){e>>>=0;let t=Object.create(T.prototype);return t.__wbg_ptr=e,E.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,E.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_blocknumber_free(e,0)}get 0(){return BigInt.asUintN(64,r.__wbg_get_blocknumber_0(this.__wbg_ptr))}set 0(e){r.__wbg_set_blocknumber_0(this.__wbg_ptr,e)}}let P="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_cardanotransactionsproofs_free(e>>>0,1));class R{static __wrap(e){e>>>=0;let t=Object.create(R.prototype);return t.__wbg_ptr=e,P.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,P.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_cardanotransactionsproofs_free(e,0)}get certificate_hash(){let e,t;try{let n=r.__wbg_get_cardanotransactionsproofs_certificate_hash(this.__wbg_ptr);return e=n[0],t=n[1],f(n[0],n[1])}finally{r.__wbindgen_free(e,t,1)}}set certificate_hash(e){let t=v(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=j;r.__wbg_set_cardanotransactionsproofs_certificate_hash(this.__wbg_ptr,t,n)}get certified_transactions(){let e=r.__wbg_get_cardanotransactionsproofs_certified_transactions(this.__wbg_ptr);var t=N(e[0],e[1]).slice();return r.__wbindgen_free(e[0],4*e[1],4),t}set certified_transactions(e){let t=S(e,r.__wbindgen_malloc),n=j;r.__wbg_set_cardanotransactionsproofs_certified_transactions(this.__wbg_ptr,t,n)}get non_certified_transactions(){let e=r.__wbg_get_cardanotransactionsproofs_non_certified_transactions(this.__wbg_ptr);var t=N(e[0],e[1]).slice();return r.__wbindgen_free(e[0],4*e[1],4),t}set non_certified_transactions(e){let t=S(e,r.__wbindgen_malloc),n=j;r.__wbg_set_cardanotransactionsproofs_non_certified_transactions(this.__wbg_ptr,t,n)}get latest_block_number(){let e=r.__wbg_get_cardanotransactionsproofs_latest_block_number(this.__wbg_ptr);return T.__wrap(e)}set latest_block_number(e){k(e,T);var t=e.__destroy_into_raw();r.__wbg_set_cardanotransactionsproofs_latest_block_number(this.__wbg_ptr,t)}get transactions_hashes(){let e=r.cardanotransactionsproofs_transactions_hashes(this.__wbg_ptr);var t=N(e[0],e[1]).slice();return r.__wbindgen_free(e[0],4*e[1],4),t}}let B="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_cardanotransactionssetproofmessagepart_free(e>>>0,1));class O{static __wrap(e){e>>>=0;let t=Object.create(O.prototype);return t.__wbg_ptr=e,B.register(t,t.__wbg_ptr,t),t}static __unwrap(e){return e instanceof O?e.__destroy_into_raw():0}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,B.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_cardanotransactionssetproofmessagepart_free(e,0)}get transactions_hashes(){let e=r.__wbg_get_cardanotransactionssetproofmessagepart_transactions_hashes(this.__wbg_ptr);var t=N(e[0],e[1]).slice();return r.__wbindgen_free(e[0],4*e[1],4),t}set transactions_hashes(e){let t=S(e,r.__wbindgen_malloc),n=j;r.__wbg_set_cardanotransactionssetproofmessagepart_transactions_hashes(this.__wbg_ptr,t,n)}get proof(){let e,t;try{let n=r.__wbg_get_cardanotransactionssetproofmessagepart_proof(this.__wbg_ptr);return e=n[0],t=n[1],f(n[0],n[1])}finally{r.__wbindgen_free(e,t,1)}}set proof(e){let t=v(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=j;r.__wbg_set_cardanotransactionssetproofmessagepart_proof(this.__wbg_ptr,t,n)}}"undefined"==typeof FinalizationRegistry||new FinalizationRegistry(e=>r.__wbg_intounderlyingbytesource_free(e>>>0,1)),"undefined"==typeof FinalizationRegistry||new FinalizationRegistry(e=>r.__wbg_intounderlyingsink_free(e>>>0,1)),"undefined"==typeof FinalizationRegistry||new FinalizationRegistry(e=>r.__wbg_intounderlyingsource_free(e>>>0,1)),"undefined"==typeof FinalizationRegistry||new FinalizationRegistry(e=>r.__wbg_jsbroadcastchannelfeedbackreceiver_free(e>>>0,1));let M="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_mithrilclient_free(e>>>0,1));class H{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,M.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_mithrilclient_free(e,0)}get_snapshot(e){let t=v(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=j;return r.mithrilclient_get_snapshot(this.__wbg_ptr,t,n)}list_snapshots(){return r.mithrilclient_list_snapshots(this.__wbg_ptr)}get_mithril_stake_distribution(e){let t=v(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=j;return r.mithrilclient_get_mithril_stake_distribution(this.__wbg_ptr,t,n)}list_mithril_stake_distributions(){return r.mithrilclient_list_mithril_stake_distributions(this.__wbg_ptr)}compute_mithril_stake_distribution_message(e,t){return r.mithrilclient_compute_mithril_stake_distribution_message(this.__wbg_ptr,e,t)}verify_message_match_certificate(e,t){return r.mithrilclient_verify_message_match_certificate(this.__wbg_ptr,e,t)}get_mithril_certificate(e){let t=v(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=j;return r.mithrilclient_get_mithril_certificate(this.__wbg_ptr,t,n)}list_mithril_certificates(){return r.mithrilclient_list_mithril_certificates(this.__wbg_ptr)}verify_certificate_chain(e){let t=v(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=j;return r.mithrilclient_verify_certificate_chain(this.__wbg_ptr,t,n)}list_cardano_transactions_snapshots(){return r.mithrilclient_list_cardano_transactions_snapshots(this.__wbg_ptr)}get_cardano_transactions_snapshot(e){let t=v(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=j;return r.mithrilclient_get_cardano_transactions_snapshot(this.__wbg_ptr,t,n)}get_cardano_transaction_proofs(e){let t=S(e,r.__wbindgen_malloc),n=j;return r.mithrilclient_get_cardano_transaction_proofs(this.__wbg_ptr,t,n)}verify_cardano_transaction_proof_then_compute_message(e,t){return k(e,R),r.mithrilclient_verify_cardano_transaction_proof_then_compute_message(this.__wbg_ptr,e.__wbg_ptr,t)}get_cardano_stake_distribution(e){let t=v(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=j;return r.mithrilclient_get_cardano_stake_distribution(this.__wbg_ptr,t,n)}get_cardano_stake_distribution_by_epoch(e){return r.mithrilclient_get_cardano_stake_distribution_by_epoch(this.__wbg_ptr,e)}list_cardano_stake_distributions(){return r.mithrilclient_list_cardano_stake_distributions(this.__wbg_ptr)}compute_cardano_stake_distribution_message(e,t){return r.mithrilclient_compute_cardano_stake_distribution_message(this.__wbg_ptr,e,t)}constructor(e,t,n){let i=v(e,r.__wbindgen_malloc,r.__wbindgen_realloc),s=j,a=v(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=j,o=r.mithrilclient_new(i,s,a,c,n);return this.__wbg_ptr=o>>>0,M.register(this,this.__wbg_ptr,this),this}}async function V(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"!=e.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}async function D(e){if(void 0!==r)return r;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===e&&(e=new n.U(n(1751)));let t=function(){let e={};return e.wbg={},e.wbg.__wbg_abort_05026c983d86824c=function(e){e.abort()},e.wbg.__wbg_append_72d1635ad8643998=function(){return x(function(e,t,n,r,i){e.append(f(t,n),f(r,i))},arguments)},e.wbg.__wbg_arrayBuffer_d0ca2ad8bda0039b=function(){return x(function(e){return e.arrayBuffer()},arguments)},e.wbg.__wbg_buffer_61b7ce01341d7f88=function(e){return e.buffer},e.wbg.__wbg_buffer_dc5dbfa8d5fb28cf=function(e){return e.buffer},e.wbg.__wbg_byobRequest_1fc36a0c1e98611b=function(e){let t=e.byobRequest;return m(t)?0:b(t)},e.wbg.__wbg_byteLength_1b2d953758afc500=function(e){return e.byteLength},e.wbg.__wbg_byteOffset_7ef484c6c1d473e9=function(e){return e.byteOffset},e.wbg.__wbg_call_500db948e69c7330=function(){return x(function(e,t,n){return e.call(t,n)},arguments)},e.wbg.__wbg_call_b0d8e36992d9900d=function(){return x(function(e,t){return e.call(t)},arguments)},e.wbg.__wbg_cardanotransactionsproofs_new=function(e){return R.__wrap(e)},e.wbg.__wbg_cardanotransactionssetproofmessagepart_new=function(e){return O.__wrap(e)},e.wbg.__wbg_cardanotransactionssetproofmessagepart_unwrap=function(e){return O.__unwrap(e)},e.wbg.__wbg_close_59511bda900d85a8=function(){return x(function(e){e.close()},arguments)},e.wbg.__wbg_close_65cb23eb0316f916=function(){return x(function(e){e.close()},arguments)},e.wbg.__wbg_crypto_ed58b8e10a292839=function(e){return e.crypto},e.wbg.__wbg_done_f22c1561fa919baa=function(e){return e.done},e.wbg.__wbg_enqueue_3997a55771b5212a=function(){return x(function(e,t){e.enqueue(t)},arguments)},e.wbg.__wbg_entries_4f2bb9b0d701c0f6=function(e){return Object.entries(e)},e.wbg.__wbg_fetch_229368eecee9d217=function(e,t){return e.fetch(t)},e.wbg.__wbg_fetch_b335d17f45a8b5a1=function(e){return fetch(e)},e.wbg.__wbg_getRandomValues_bcb4912f16000dc4=function(){return x(function(e,t){e.getRandomValues(t)},arguments)},e.wbg.__wbg_get_9aa3dff3f0266054=function(e,t){return e[t>>>0]},e.wbg.__wbg_get_bbccf8970793c087=function(){return x(function(e,t){return Reflect.get(e,t)},arguments)},e.wbg.__wbg_getwithrefkey_1dc361bd10053bfe=function(e,t){return e[t]},e.wbg.__wbg_has_94c2fc1d261bbfe9=function(){return x(function(e,t){return Reflect.has(e,t)},arguments)},e.wbg.__wbg_headers_24e3e19fe3f187c0=function(e){return e.headers},e.wbg.__wbg_instanceof_ArrayBuffer_670ddde44cdb2602=function(e){let t;try{t=e instanceof ArrayBuffer}catch(e){t=!1}return t},e.wbg.__wbg_instanceof_Response_d3453657e10c4300=function(e){let t;try{t=e instanceof Response}catch(e){t=!1}return t},e.wbg.__wbg_instanceof_Uint8Array_28af5bc19d6acad8=function(e){let t;try{t=e instanceof Uint8Array}catch(e){t=!1}return t},e.wbg.__wbg_isArray_1ba11a930108ec51=function(e){return Array.isArray(e)},e.wbg.__wbg_isSafeInteger_12f5549b2fca23f4=function(e){return Number.isSafeInteger(e)},e.wbg.__wbg_iterator_23604bb983791576=function(){return Symbol.iterator},e.wbg.__wbg_length_65d1cd11729ced11=function(e){return e.length},e.wbg.__wbg_length_d65cf0786bfc5739=function(e){return e.length},e.wbg.__wbg_msCrypto_0a36e2ec3a343d26=function(e){return e.msCrypto},e.wbg.__wbg_new_1bbd050bd0c8595a=function(){return x(function(e,t){return new BroadcastChannel(f(e,t))},arguments)},e.wbg.__wbg_new_254fa9eac11932ae=function(){return[]},e.wbg.__wbg_new_35d748855c4620b9=function(){return x(function(){return new Headers},arguments)},e.wbg.__wbg_new_3d446df9155128ef=function(e,t){try{var n={a:e,b:t};return new Promise((e,t)=>{let i=n.a;n.a=0;try{var s;return s=n.b,void r.closure2470_externref_shim(i,s,e,t)}finally{n.a=i}})}finally{n.a=n.b=0}},e.wbg.__wbg_new_3ff5b33b1ce712df=function(e){return new Uint8Array(e)},e.wbg.__wbg_new_5f48f21d4be11586=function(){return x(function(){return new AbortController},arguments)},e.wbg.__wbg_new_6799ef630abee97c=function(e,t){return Error(f(e,t))},e.wbg.__wbg_new_688846f374351c92=function(){return{}},e.wbg.__wbg_new_bc96c6a1c0786643=function(){return new Map},e.wbg.__wbg_newnoargs_fd9e4bf8be2bc16d=function(e,t){return Function(f(e,t))},e.wbg.__wbg_newwithbyteoffsetandlength_ba35896968751d91=function(e,t,n){return new Uint8Array(e,t>>>0,n>>>0)},e.wbg.__wbg_newwithlength_34ce8f1051e74449=function(e){return new Uint8Array(e>>>0)},e.wbg.__wbg_newwithstrandinit_a1f6583f20e4faff=function(){return x(function(e,t,n){return new Request(f(e,t),n)},arguments)},e.wbg.__wbg_next_01dd9234a5bf6d05=function(){return x(function(e){return e.next()},arguments)},e.wbg.__wbg_next_137428deb98342b0=function(e){return e.next},e.wbg.__wbg_node_02999533c4ea02e3=function(e){return e.node},e.wbg.__wbg_postMessage_331fb89b0dd7b46c=function(){return x(function(e,t){e.postMessage(t)},arguments)},e.wbg.__wbg_process_5c1d670bc53614b8=function(e){return e.process},e.wbg.__wbg_queueMicrotask_2181040e064c0dc8=function(e){queueMicrotask(e)},e.wbg.__wbg_queueMicrotask_ef9ac43769cbcc4f=function(e){return e.queueMicrotask},e.wbg.__wbg_randomFillSync_ab2cfe79ebbf2740=function(){return x(function(e,t){e.randomFillSync(t)},arguments)},e.wbg.__wbg_require_79b1e9274cde3c87=function(){return x(function(){return module.require},arguments)},e.wbg.__wbg_resolve_0bf7c44d641804f9=function(e){return Promise.resolve(e)},e.wbg.__wbg_respond_88fe7338392675f2=function(){return x(function(e,t){e.respond(t>>>0)},arguments)},e.wbg.__wbg_set_1d80752d0d5f0b21=function(e,t,n){e[t>>>0]=n},e.wbg.__wbg_set_23d69db4e5c66a6e=function(e,t,n){e.set(t,n>>>0)},e.wbg.__wbg_set_3f1d0b984ed272ed=function(e,t,n){e[t]=n},e.wbg.__wbg_set_76818dc3c59a63d5=function(e,t,n){return e.set(t,n)},e.wbg.__wbg_setbody_64920df008e48adc=function(e,t){e.body=t},e.wbg.__wbg_setcredentials_cfc15e48e3a3a535=function(e,t){e.credentials=F[t]},e.wbg.__wbg_setheaders_4c921e8e226bdfa7=function(e,t){e.headers=t},e.wbg.__wbg_setmethod_cfc7f688ba46a6be=function(e,t,n){e.method=f(t,n)},e.wbg.__wbg_setmode_cd03637eb7da01e0=function(e,t){e.mode=z[t]},e.wbg.__wbg_setsignal_f766190d206f09e5=function(e,t){e.signal=t},e.wbg.__wbg_signal_1fdadeba2d04660e=function(e){return e.signal},e.wbg.__wbg_static_accessor_GLOBAL_0be7472e492ad3e3=function(){let e="undefined"==typeof global?null:global;return m(e)?0:b(e)},e.wbg.__wbg_static_accessor_GLOBAL_THIS_1a6eb482d12c9bfb=function(){let e="undefined"==typeof globalThis?null:globalThis;return m(e)?0:b(e)},e.wbg.__wbg_static_accessor_SELF_1dc398a895c82351=function(){let e="undefined"==typeof self?null:self;return m(e)?0:b(e)},e.wbg.__wbg_static_accessor_WINDOW_ae1c80c7eea8d64a=function(){let e=window;return m(e)?0:b(e)},e.wbg.__wbg_status_317f53bc4c7638df=function(e){return e.status},e.wbg.__wbg_stringify_f4f701bc34ceda61=function(){return x(function(e){return JSON.stringify(e)},arguments)},e.wbg.__wbg_subarray_46adeb9b86949d12=function(e,t,n){return e.subarray(t>>>0,n>>>0)},e.wbg.__wbg_text_dfc4cb7631d2eb34=function(){return x(function(e){return e.text()},arguments)},e.wbg.__wbg_then_0438fad860fe38e1=function(e,t){return e.then(t)},e.wbg.__wbg_then_0ffafeddf0e182a4=function(e,t,n){return e.then(t,n)},e.wbg.__wbg_url_5327bc0a41a9b085=function(e,t){let n=v(t.url,r.__wbindgen_malloc,r.__wbindgen_realloc),i=j;A().setInt32(e+4,i,!0),A().setInt32(e+0,n,!0)},e.wbg.__wbg_value_4c32fd138a88eee2=function(e){return e.value},e.wbg.__wbg_versions_c71aa1626a93e0a1=function(e){return e.versions},e.wbg.__wbg_view_a03cbb1d55c73e57=function(e){let t=e.view;return m(t)?0:b(t)},e.wbg.__wbindgen_as_number=function(e){return+e},e.wbg.__wbindgen_bigint_from_u64=function(e){return BigInt.asUintN(64,e)},e.wbg.__wbindgen_bigint_get_as_i64=function(e,t){let n="bigint"==typeof t?t:void 0;A().setBigInt64(e+8,m(n)?BigInt(0):n,!0),A().setInt32(e+0,!m(n),!0)},e.wbg.__wbindgen_boolean_get=function(e){return"boolean"==typeof e?e?1:0:2},e.wbg.__wbindgen_cb_drop=function(e){let t=e.original;return 1==t.cnt--&&(t.a=0,!0)},e.wbg.__wbindgen_closure_wrapper4122=function(e,t,n){return function(e,t,n,i){let s={a:e,b:t,cnt:1,dtor:n},a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.cnt++;let a=s.a;s.a=0;try{return i(a,s.b,...t)}finally{0==--s.cnt?(r.__wbindgen_export_5.get(s.dtor)(a,s.b),C.unregister(s)):s.a=a}};return a.original=s,C.register(a,s,s),a}(e,t,2437,I)},e.wbg.__wbindgen_debug_string=function(e,t){let n=v(function e(t){let n;let r=typeof t;if("number"==r||"boolean"==r||null==t)return"".concat(t);if("string"==r)return'"'.concat(t,'"');if("symbol"==r){let e=t.description;return null==e?"Symbol":"Symbol(".concat(e,")")}if("function"==r){let e=t.name;return"string"==typeof e&&e.length>0?"Function(".concat(e,")"):"Function"}if(Array.isArray(t)){let n=t.length,r="[";n>0&&(r+=e(t[0]));for(let i=1;i<n;i++)r+=", "+e(t[i]);return r+"]"}let i=/\[object ([^\]]+)\]/.exec(toString.call(t));if(!i||!(i.length>1))return toString.call(t);if("Object"==(n=i[1]))try{return"Object("+JSON.stringify(t)+")"}catch(e){return"Object"}return t instanceof Error?"".concat(t.name,": ").concat(t.message,"\n").concat(t.stack):n}(t),r.__wbindgen_malloc,r.__wbindgen_realloc),i=j;A().setInt32(e+4,i,!0),A().setInt32(e+0,n,!0)},e.wbg.__wbindgen_error_new=function(e,t){return Error(f(e,t))},e.wbg.__wbindgen_in=function(e,t){return e in t},e.wbg.__wbindgen_init_externref_table=function(){let e=r.__wbindgen_export_2,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},e.wbg.__wbindgen_is_bigint=function(e){return"bigint"==typeof e},e.wbg.__wbindgen_is_function=function(e){return"function"==typeof e},e.wbg.__wbindgen_is_object=function(e){return"object"==typeof e&&null!==e},e.wbg.__wbindgen_is_string=function(e){return"string"==typeof e},e.wbg.__wbindgen_is_undefined=function(e){return void 0===e},e.wbg.__wbindgen_jsval_eq=function(e,t){return e===t},e.wbg.__wbindgen_jsval_loose_eq=function(e,t){return e==t},e.wbg.__wbindgen_memory=function(){return r.memory},e.wbg.__wbindgen_number_get=function(e,t){let n="number"==typeof t?t:void 0;A().setFloat64(e+8,m(n)?0:n,!0),A().setInt32(e+0,!m(n),!0)},e.wbg.__wbindgen_number_new=function(e){return e},e.wbg.__wbindgen_string_get=function(e,t){let n="string"==typeof t?t:void 0;var i=m(n)?0:v(n,r.__wbindgen_malloc,r.__wbindgen_realloc),s=j;A().setInt32(e+4,s,!0),A().setInt32(e+0,i,!0)},e.wbg.__wbindgen_string_new=function(e,t){return f(e,t)},e.wbg.__wbindgen_throw=function(e,t){throw Error(f(e,t))},e}();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));let{instance:i,module:s}=await V(await e,t);return r=i.exports,D.__wbindgen_wasm_module=s,y=null,g=null,r.__wbindgen_start(),r}var L=n(1032),U=n(1334),q=n(9921),K=n(6121),W=n(3667),G=n(3847),J=n(2963),Q=n(6291),X=n(676),Y=n(3488),Z=n(6817);function $(e){let[t,n]=(0,s.useState)(""),[r,c]=(0,s.useState)(!1),o=(0,a.wA)();function l(){e.onAskClose(),c(!1),n("")}function d(e){e.preventDefault(),(0,Z.checkUrl)(t)?(l(),o((0,Q.QB)(t))):c(!0)}return(0,i.jsxs)(X.A,{show:e.show,onHide:l,size:"lg","aria-labelledby":"add-aggregator-title",centered:!0,children:[(0,i.jsx)(X.A.Header,{closeButton:!0,children:(0,i.jsx)(X.A.Title,{id:"add-aggregator-title",children:"New aggregator source"})}),(0,i.jsx)(X.A.Body,{children:(0,i.jsx)(q.A,{onSubmit:d,children:(0,i.jsxs)(Y.A,{children:[(0,i.jsx)(q.A.Label,{children:"URL"}),(0,i.jsx)(q.A.Control,{type:"url",value:t,onChange:e=>n(e.target.value),isInvalid:r,autoFocus:!0}),(0,i.jsx)(q.A.Control.Feedback,{type:"invalid",children:"Invalid URL"})]})})}),(0,i.jsxs)(X.A.Footer,{children:[(0,i.jsx)(J.A,{variant:"secondary",onClick:l,children:"Close"}),(0,i.jsx)(J.A,{variant:"primary",onClick:d,children:"Save"})]})]})}function ee(e){let[t,n]=(0,s.useState)(!1),r=(0,a.d4)(e=>e.settings.selectedAggregator),c=(0,a.d4)(e=>e.settings.availableAggregators),o=(0,a.d4)(e=>e.settings.canRemoveSelected),l=(0,a.wA)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)($,{show:t,onAskClose:()=>n(!1)}),(0,i.jsx)(q.A.Group,{as:W.A,...e,children:(0,i.jsxs)(G.A,{children:[(0,i.jsx)(J.A,{variant:"outline-success",onClick:()=>n(!0),children:(0,i.jsx)("i",{className:"bi bi-plus-circle"})}),o&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(J.A,{variant:"outline-danger",onClick:()=>l((0,Q.rT)()),children:(0,i.jsx)("i",{className:"bi bi-dash-circle"})}),(0,i.jsx)(L.A,{overlay:(0,i.jsx)(U.A,{children:"Unofficial Aggregator"}),children:(0,i.jsx)(J.A,{variant:"outline-warning",children:(0,i.jsx)("i",{className:"bi bi-exclamation-triangle"})})})]}),(0,i.jsx)(q.A.Select,{value:r,onChange:e=>l((0,Q.QB)(e.target.value)),children:c.map((e,t)=>(0,i.jsx)("option",{value:e,children:e},"agg-"+t))}),(0,i.jsx)(L.A,{overlay:(0,i.jsx)(U.A,{children:"Copy url"}),children:(0,i.jsx)(J.A,{variant:"outline-secondary",onClick:function(){window.isSecureContext&&r&&navigator.clipboard.writeText(r).then(()=>{})},children:(0,i.jsx)("i",{className:"bi bi-clipboard"})})})]})})]})}var et=n(2981),en=n(5495),er=n(4798),ei=n(2193),es=n(5491),ea=n(57);function ec(e){let{protocolParameters:t,padding:n,...r}=e,s="p-".concat(null!=n?n:"auto");return(0,i.jsxs)(ea.A,{horizontal:!0,...r,children:[(0,i.jsxs)(ea.A.Item,{className:"".concat(s),children:[(0,i.jsx)("em",{children:"k:"})," ",null==t?void 0:t.k]}),(0,i.jsxs)(ea.A.Item,{className:"".concat(s),children:[(0,i.jsx)("em",{children:"m:"})," ",null==t?void 0:t.m]}),(0,i.jsxs)(ea.A.Item,{className:"".concat(s),children:[(0,i.jsx)("em",{children:"f:"})," ",null==t?void 0:t.phi_f]})]})}function eo(){var e;let[t,n]=(0,s.useState)({}),r=(0,a.d4)(e=>e.settings.selectedAggregator),c=(0,a.d4)(e=>"".concat((0,Q.z1)(e),"/epoch-settings")),l=(0,a.d4)(e=>e.settings.refreshSeed),d=(0,a.d4)(e=>e.settings.updateInterval),[_,h]=(0,s.useState)(void 0),[g,u]=(0,s.useState)(void 0);return(0,s.useEffect)(()=>{let e=()=>{fetch(c).then(e=>200===e.status?e.json():{}).then(e=>n(e)).catch(e=>{n({}),console.error("Fetch epoch-settings error:",e)})};if(e(),d){let t=setInterval(e,d);return()=>clearInterval(t)}},[c,d,l]),(0,s.useEffect)(()=>{if((0,Z.checkUrl)(r)){let e=new URLSearchParams;e.set("aggregator",r),u("/registrations-in-out?".concat(e.toString()))}if((0,Z.checkUrl)(r)&&Number.isInteger(null==t?void 0:t.epoch)){let e=new URLSearchParams;e.set("aggregator",r),e.set("epoch",t.epoch),h("/registrations?".concat(e.toString()))}},[r,t]),(0,i.jsxs)(et.A,{children:[(0,i.jsx)(et.A.Body,{children:(0,i.jsx)(er.A,{children:(0,i.jsxs)(K.A,{children:[(0,i.jsxs)(W.A,{xs:12,md:"auto",children:[(0,i.jsx)("h5",{children:"Current Epoch"}),(0,i.jsx)("div",{className:"mb-2 ps-3",children:t.epoch})]}),(0,i.jsxs)(W.A,{xs:12,md:"auto",children:[(0,i.jsx)("h5",{children:"Registration Protocol Parameters"}),(0,i.jsx)(ec,{protocolParameters:null!==(e=t.signer_registration_protocol)&&void 0!==e?e:t.next_protocol})]})]})})}),(0,i.jsx)(et.A.Footer,{children:(0,i.jsxs)(o.A,{direction:"horizontal",gap:1,className:"justify-content-md-end align-items-stretch justify-content-sm-center",children:[(0,i.jsxs)(ei.A,{href:null!=_?_:"#",disabled:void 0===_,children:[(0,i.jsx)("i",{className:"bi bi-pen"})," Registered Signers"]}),(0,i.jsxs)(ei.A,{href:null!=g?g:"#",disabled:void 0===g,children:[(0,i.jsx)("i",{className:"bi bi-arrow-left-right translate-middle-y"})," In/Out Registrations"]}),(0,i.jsx)(es.A,{href:c,variant:"outline-secondary"})]})})]})}var el=n(1205);function ed(e){let{children:t,title:n,...r}=e;return(0,i.jsx)(W.A,{xs:12,sm:6,md:4,lg:3,xl:2,className:"mb-3",...r,children:(0,i.jsx)(et.A,{className:"h-100",...r,children:(0,i.jsxs)(et.A.Body,{children:[(0,i.jsx)("h5",{children:n}),(0,i.jsx)("div",{className:"ps-1",children:t})]})})})}function e_(e){let{label:t,children:n,className:r,...s}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"d-flex justify-content-between ".concat(r),...s,children:[(0,i.jsx)("div",{className:"me-2 flex-fill",children:(0,i.jsxs)("em",{children:[t,":"]})}),(0,i.jsx)("div",{className:"text-end",children:n})]}),(0,i.jsx)("hr",{className:"my-2"})]})}function eh(e){let{value:t,total:n,...r}=e;return(0,i.jsx)(L.A,{overlay:(0,i.jsx)(U.A,{children:"".concat(t," out of ").concat(n)}),children:(0,i.jsx)("span",{...r,children:(0,i.jsx)("i",{className:"bi bi-question-circle text-secondary"})})})}function eg(e){var t,n,r,c,l,d,_,h;let{showContent:g=!0}=e,[u,f]=(0,s.useState)({}),[b,x]=(0,s.useState)({}),m=(0,a.d4)(e=>e.settings.selectedAggregator),j=(0,a.d4)(e=>"".concat((0,Q.z1)(e),"/status")),[w,p]=(0,s.useState)(void 0),[v,y]=(0,s.useState)(void 0),A=(0,a.d4)(e=>e.settings.refreshSeed),C=(0,a.d4)(e=>e.settings.updateInterval),[S,k]=(0,s.useState)(!1);function N(e,t){return(e/t*100).toFixed(0)}return(0,s.useEffect)(()=>{let e=()=>{fetch(j).then(e=>200===e.status?e.json():{}).then(e=>{f(e),k(!1)}).catch(e=>{f({}),k(!0)})};if(e(),C){let t=setInterval(e,C);return()=>clearInterval(t)}},[j,C,A]),(0,s.useEffect)(()=>{var e,t,n,r;if(!(0,Z.checkUrl)(m))return;let i=null!==(t=null==u?void 0:null===(e=u.aggregator_node_version)||void 0===e?void 0:e.split("+"))&&void 0!==t?t:[];x({number:null!==(n=i[0])&&void 0!==n?n:"0.0.0",sha:null!==(r=i[1])&&void 0!==r?r:void 0});let s=new URLSearchParams;if(s.set("aggregator",m),y("/registrations-in-out?".concat(s.toString())),Number.isInteger(null==u?void 0:u.epoch)){let e=new URLSearchParams;e.set("aggregator",m),e.set("epoch",u.epoch),p("/registrations?".concat(e.toString()))}},[m,u]),S?(0,i.jsx)(o.A,{direction:"horizontal",children:(0,i.jsx)(en.A,{in:g,children:(0,i.jsx)("div",{id:"contentRow",children:(0,i.jsx)(eo,{})})})}):(0,i.jsxs)(er.A,{fluid:!0,children:[(0,i.jsx)(en.A,{in:g,children:(0,i.jsx)("div",{id:"contentRow",children:(0,i.jsxs)(K.A,{className:"d-flex flex-wrap justify-content-md-center",children:[(0,i.jsxs)(ed,{title:"Epoch ".concat(u.epoch),children:[(0,i.jsx)(e_,{label:"Cardano Network",className:"text-capitalize",children:u.cardano_network}),(0,i.jsx)(e_,{label:"Cardano Era",children:u.cardano_era}),(0,i.jsx)(e_,{label:"Mithril Era",className:"text-capitalize",children:u.mithril_era})]}),(0,i.jsxs)(ed,{title:"SPOs",children:[(0,i.jsx)(e_,{label:"Current Signers",children:null!==(t=u.total_signers)&&void 0!==t?t:0}),(0,i.jsx)(e_,{label:"Next Signers",children:null!==(n=u.total_next_signers)&&void 0!==n?n:0}),(0,i.jsxs)(e_,{label:"Cardano Adoption",children:[N(u.total_signers,u.total_cardano_spo),"%"," ",(0,i.jsx)(eh,{value:null!==(r=u.total_signers)&&void 0!==r?r:0,total:null!==(c=u.total_cardano_spo)&&void 0!==c?c:0})]})]}),(0,i.jsxs)(ed,{title:"Stakes",children:[(0,i.jsx)(e_,{label:"Current Signers",children:(0,i.jsx)(el.A,{lovelace:null!==(l=u.total_stakes_signers)&&void 0!==l?l:0})}),(0,i.jsx)(e_,{label:"Next Signers",children:(0,i.jsx)(el.A,{lovelace:null!==(d=u.total_next_stakes_signers)&&void 0!==d?d:0})}),(0,i.jsxs)(e_,{label:"Cardano Adoption",children:[N(u.total_stakes_signers,u.total_cardano_stake),"%"," ",(0,i.jsx)(eh,{value:null!==(_=(0,Z.formatStake)(u.total_stakes_signers))&&void 0!==_?_:0,total:null!==(h=(0,Z.formatStake)(u.total_cardano_stake))&&void 0!==h?h:0})]})]}),(0,i.jsxs)(ed,{title:"Protocol Parameters",children:[(0,i.jsx)("em",{children:"Current:"}),(0,i.jsx)(ec,{protocolParameters:u.protocol,padding:2}),(0,i.jsx)("em",{children:"Next:"}),(0,i.jsx)(ec,{protocolParameters:u.next_protocol,padding:2})]}),(0,i.jsxs)(ed,{title:"Versions",children:[(0,i.jsxs)(e_,{label:"Aggregator",children:[b.number,b.sha&&(0,i.jsxs)("em",{children:[" (",b.sha,")"]})]}),(0,i.jsx)(e_,{label:"Cardano",children:u.cardano_node_version})]})]})})}),(0,i.jsx)(K.A,{children:(0,i.jsxs)(o.A,{direction:"horizontal",gap:1,className:"align-items-stretch justify-content-sm-center border bg-light rounded p-2",children:[(0,i.jsxs)(ei.A,{className:"ms-auto",href:null!=w?w:"#",disabled:void 0===w,children:[(0,i.jsx)("i",{className:"bi bi-pen"})," Registered Signers"]}),(0,i.jsxs)(ei.A,{href:null!=v?v:"#",disabled:void 0===v,children:[(0,i.jsx)("i",{className:"bi bi-arrow-left-right translate-middle-y"})," In/Out Registrations"]}),(0,i.jsx)(es.A,{href:j,variant:"outline-secondary",tooltip:"Aggregator Status Raw JSON",className:"ms-auto"})]})})]})}function eu(e){let t=(0,a.d4)(e=>e.settings.updateInterval),n=(0,a.wA)();return(0,i.jsx)(q.A.Group,{as:W.A,...e,children:(0,i.jsxs)(G.A,{children:[(0,i.jsx)(J.A,{type:"button",onClick:()=>n((0,Q.XN)()),variant:"primary",children:"Refresh"}),(0,i.jsx)(L.A,{overlay:(0,i.jsx)(U.A,{children:"Set auto-refresh interval"}),children:(0,i.jsxs)(q.A.Select,{"aria-label":"Auto refresh interval",value:t,onChange:e=>n((0,Q.PY)(parseInt(e.target.value))),children:[(0,i.jsx)("option",{value:void 0,children:"Off"}),(0,i.jsx)("option",{value:1e3,children:"1 second"}),(0,i.jsx)("option",{value:5e3,children:"5 seconds"}),(0,i.jsx)("option",{value:1e4,children:"10 seconds"})]})})]})})}function ef(){let[e,t]=(0,s.useState)(!0);return(0,i.jsxs)(o.A,{gap:2,children:[(0,i.jsx)("h3",{children:(0,i.jsxs)("a",{role:"button",onClick:()=>t(!e),"aria-expanded":e,"aria-controls":"contentRow",children:["Aggregator"," ",(0,i.jsx)(L.A,{overlay:(0,i.jsx)(U.A,{children:"Show/hide Aggregator status"}),children:(0,i.jsx)("i",{className:"bi bi-chevron-".concat(e?"up":"down")})})]})}),(0,i.jsx)(q.A,{children:(0,i.jsxs)(K.A,{xs:1,sm:2,className:"row-gap-2",children:[(0,i.jsx)(ee,{sm:8}),(0,i.jsx)(eu,{sm:4})]})}),(0,i.jsx)(eg,{showContent:e})]})}var eb=n(1566),ex=n(9141),em=n(8900),ej=n(6472),ew=n(4281);function ep(e){let{signedEntityType:t,table:n=!1}=e,[r,a]=(0,s.useState)(""),[c,o]=(0,s.useState)({});return(0,s.useEffect)(()=>{let e=Object.keys(t).at(0);if(a(e),"MithrilStakeDistribution"===e||"CardanoStakeDistribution"===e)o({epoch:t[e]});else if("CardanoTransactions"===e)o({epoch:t[e][0],block_number:t[e][1]});else{var n;o(null!==(n=t[e])&&void 0!==n?n:{})}},[t]),n?(0,i.jsx)(ex.A,{className:"mb-3",children:(0,i.jsxs)("tbody",{children:[(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:2,children:(0,i.jsx)("h6",{children:r})})}),Object.entries(c).map(e=>{let[t,n]=e;return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsxs)("em",{children:[t,":"]})}),(0,i.jsx)("td",{children:n})]},t)})]})}):(0,i.jsxs)(ea.A,{children:[(0,i.jsx)(ea.A.Item,{children:(0,i.jsx)("h6",{children:r})}),(0,i.jsx)(ea.A.Item,{children:(0,i.jsx)(ea.A,{horizontal:"xxl",children:Object.entries(c).map(e=>{let[t,n]=e;return(0,i.jsxs)(ea.A.Item,{children:[t,": ",n]},t)})})})]})}var ev=n(8435),ey=n(4216),eA=n(3067),eC=n(6848),eS=n(1800),ek=n(6887);function eN(e){let{datetime:t}=e;return(0,i.jsx)(i.Fragment,{children:new Date(t).toLocaleString()})}var eI=n(8413),eF=n.n(eI);let ez=0,eE={ready:1,validationInProgress:2,done:3},eT={started:"CertificateChainValidationStarted",certificateValidated:"CertificateValidated",done:"CertificateChainValidated"},eP={beforeTable:1,inTable:2,afterTable:3};function eR(e){let{hash:t,onClick:n,showLink:r,linkVariant:s="dark"}=e;return r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("a",{href:"#",target:"_blank",className:"link-".concat(s),onClick:function(e){e.preventDefault(),n(t)},children:t})," ",(0,i.jsx)(eS.A,{textToCopy:t})]}):(0,i.jsx)(eC.A,{hash:t})}function eB(e){let{client:t,certificate:n,hideSpinner:r=!1,showCertificateLinks:a=!1,onStepChange:c=e=>{},onChainValidationError:o=e=>{},onCertificateClick:l=e=>{}}=e,[d,_]=(0,s.useState)(eE.ready),[h,g]=(0,s.useState)(void 0),[u,f]=(0,s.useState)(null),[b,x]=(0,s.useState)([]);async function m(e,t){let n=performance.now();await e.verify_certificate_chain(t),f((0,Z.formatProcessDuration)(n))}function j(e){let t=e.data,n=(0,i.jsx)(i.Fragment,{}),r=eP.afterTable;switch(t.type){case eT.started:r=eP.beforeTable,n=(0,i.jsx)(i.Fragment,{children:"The certificate chain validation has started..."});break;case eT.certificateValidated:r=eP.inTable,n={certificateHash:t.payload.certificate_hash};break;case eT.done:n=(0,i.jsxs)(i.Fragment,{children:["The certificate chain is valid ",(0,i.jsx)("i",{className:"text-success bi bi-check-circle-fill"})]});break;default:n=(0,i.jsx)(i.Fragment,{children:t})}x(e=>[...e,{id:ez++,position:r,message:n}])}return(0,s.useEffect)(()=>{let e=new BroadcastChannel("mithril-client");return e.addEventListener("message",j),()=>e.close()},[]),(0,s.useEffect)(()=>{c(d)},[d,c]),(0,s.useEffect)(()=>{h&&o(h)},[h,o]),(0,s.useEffect)(()=>{d===eE.ready&&(x([]),g(void 0),t&&n&&(_(eE.validationInProgress),m(t,n.hash).catch(e=>{console.error("Certificate Chain verification error:\n",e),g(e)}).finally(()=>_(eE.done))))},[d,t,n]),(0,i.jsx)(i.Fragment,{children:Object.entries(n).length>0&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{children:"Certificate Details"}),(0,i.jsxs)("div",{children:["Certificate hash:"," ",(0,i.jsx)(eR,{hash:n.hash,onClick:()=>l(n.hash),showLink:a,linkVariant:"primary"})]}),(0,i.jsxs)("div",{children:["Epoch: ",n.epoch]}),(0,i.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,i.jsxs)("div",{children:["Sealed at: ",(0,i.jsx)(eN,{datetime:n.metadata.sealed_at})]}),d===eE.validationInProgress&&(0,i.jsxs)("div",{className:"d-flex align-items-center",children:[(0,i.jsx)("div",{className:"ms-1 pe-1",children:"Verifying the certificate chain..."}),!r&&(0,i.jsx)(ey.A,{animation:"border",variant:"primary"})]}),d===eE.done&&(0,i.jsxs)("div",{className:"ms-1 pe-1",children:["Verification duration: ",u]})]}),(0,i.jsx)("hr",{}),(0,i.jsxs)("div",{className:eF().events,children:[(0,i.jsx)("span",{}),(0,i.jsxs)("div",{children:[b.filter(e=>e.position===eP.beforeTable).map(e=>(0,i.jsx)("div",{children:e.message},e.id)),(0,i.jsxs)(ex.A,{className:"my-2",responsive:!0,striped:!0,children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Certificate hash"}),(0,i.jsx)("th",{children:"Checked"})]})}),(0,i.jsx)("tbody",{children:b.filter(e=>e.position===eP.inTable).map(e=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)(eR,{hash:e.message.certificateHash,onClick:()=>l(e.message.certificateHash),showLink:a})}),(0,i.jsx)("td",{children:(0,i.jsx)(ek.A,{tooltip:"yes",variant:"success",icon:"check-circle-fill"})})]},e.id))})]}),b.filter(e=>e.position===eP.afterTable).map(e=>(0,i.jsx)("div",{children:e.message},e.id)),void 0!==h&&(0,i.jsxs)(eA.A,{variant:"danger",className:"mt-2",children:[(0,i.jsxs)(eA.A.Heading,{children:[(0,i.jsx)("i",{className:"text-danger bi bi-shield-slash"})," Invalid certificate chain"]}),(0,i.jsx)("div",{className:eF().error,children:h.toString()})]})]})]})]})})}function eO(e){let{show:t,onClose:n,certificateHash:r}=e,c=(0,a.d4)(e=>e.settings.selectedAggregator),[o,l]=(0,s.useState)(!1),[d,_]=(0,s.useState)(!1),[h,g]=(0,s.useState)(void 0),[u,f]=(0,s.useState)(void 0);async function b(e,t){let n=await (0,Z.fetchGenesisVerificationKey)(e),r=new H(e,n),i=await r.get_mithril_certificate(t);g(r),f(i)}return(0,s.useEffect)(()=>{t&&(_(!1),b(c,r).catch(e=>console.error("VerifyCertificateModal init error:",e)))},[t,c,r]),(0,s.useEffect)(()=>{o||_(!1)},[o]),(0,i.jsxs)(X.A,{show:t,onHide:function(){o?_(!0):n()},size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,i.jsx)(X.A.Header,{closeButton:!0,children:(0,i.jsx)(X.A.Title,{children:"Verify certificate"})}),(0,i.jsx)(X.A.Body,{children:t&&(0,i.jsxs)(i.Fragment,{children:[d&&(0,i.jsx)("div",{className:"alert alert-warning",role:"alert",children:"Verification is in progress. Please wait until the process is complete (less than a minute)."}),h&&u&&(0,i.jsx)(eB,{client:h,certificate:u,onStepChange:e=>l(e===eE.validationInProgress)})]})}),(0,i.jsx)(X.A.Footer,{})]})}function eM(e){var t,n;let{hash:r,hideButtons:c=!1,onHashChange:o=e=>{}}=e,[l,d]=(0,s.useState)({}),[_,h]=(0,s.useState)({stakesBreakdown:{}}),[g,u]=(0,s.useState)(!1),f=(0,a.d4)(e=>"".concat((0,Q.z1)(e),"/certificate/").concat(r));return(0,s.useEffect)(()=>{r&&fetch(f).then(e=>200===e.status?e.json():{}).then(e=>{d(e),h({stakesBreakdown:(0,ew.an)(e.metadata.signers)})}).catch(e=>{d({}),console.error("Fetch certificate error:",e)})},[f,r]),(0,i.jsxs)(X.A,{show:void 0!==r,onHide:function(){o(void 0)},size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,i.jsx)(X.A.Header,{className:"text-break",closeButton:!0,children:(0,i.jsxs)(X.A.Title,{id:"contained-modal-title-vcenter",children:["Certificate ",l.hash]})}),(0,i.jsx)(X.A.Body,{children:0===Object.entries(l).length?(0,i.jsx)("p",{children:"Not found"}):(0,i.jsxs)(er.A,{className:g&&"d-none",children:[(0,i.jsxs)(K.A,{md:1,xl:"auto",children:[(0,i.jsxs)(W.A,{xl:4,className:"mb-3",children:[(0,i.jsx)("h4",{children:"Beacon"}),(0,i.jsx)(ep,{signedEntityType:l.signed_entity_type,table:!0}),(0,i.jsx)("h4",{children:"Protocol Parameters"}),(0,i.jsx)(ec,{className:"mb-3",protocolParameters:l.metadata.parameters}),(0,i.jsx)("h4",{children:"Statistics"}),(0,i.jsx)(ex.A,{className:"mb-0",children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("em",{children:"Number of signers:"})}),(0,i.jsx)("td",{children:null!==(t=null==l?void 0:l.metadata.signers.length)&&void 0!==t?t:0})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("em",{children:"Total stakes:"})}),(0,i.jsx)("td",{children:(0,i.jsx)(el.A,{lovelace:null!==(n=null==l?void 0:l.metadata.signers.reduce((e,t)=>e+t.stake,0))&&void 0!==n?n:0})})]})]})})]}),(0,i.jsx)(W.A,{xl:8,className:"mb-1",children:""!==l.genesis_signature?(0,i.jsxs)("div",{children:["This is the chain"," ",(0,i.jsx)("em",{children:(0,i.jsx)("strong",{children:"Genesis Certificate"})}),", since it's manually created it doesn't contain any Signers."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h4",{children:"Stakes breakdown"}),(0,i.jsx)(ej.yP,{data:_.stakesBreakdown})]})})]}),(0,i.jsx)(K.A,{children:""===l.genesis_signature&&(0,i.jsx)(em.A,{children:(0,i.jsxs)(em.A.Item,{eventKey:"signers",children:[(0,i.jsx)(em.A.Header,{children:(0,i.jsx)("h4",{children:"Signers"})}),(0,i.jsx)(em.A.Body,{children:0===l.metadata.signers.length?(0,i.jsx)("div",{children:"No Signers for this certificate, something went wrong either with the data retrieval or the signing process"}):(0,i.jsx)(ev.A,{signers:l.metadata.signers})})]})})})]})}),(0,i.jsxs)(X.A.Footer,{children:[!c&&(0,i.jsx)(J.A,{size:"sm",onClick:()=>u(!0),className:"text-break",children:"Verify certificate"}),""!==l.genesis_signature?(0,i.jsx)(eb.A,{bg:"warning",children:"Genesis"}):!c&&(0,i.jsxs)(J.A,{size:"sm",onClick:function(){o(l.previous_hash)},className:"text-break",children:["Previous hash: ",l.previous_hash]}),(0,i.jsx)(es.A,{href:f,size:"sm"})]}),!c&&(0,i.jsx)(eO,{show:g,onClose:()=>u(!1),certificateHash:l.hash})]})}function eH(e){let[t,n]=(0,s.useState)([]),[r,c]=(0,s.useState)(void 0),l=(0,a.d4)(Q.z1),d=(0,a.d4)(e=>"".concat((0,Q.z1)(e),"/artifact/snapshots")),_=(0,a.d4)(e=>e.settings.refreshSeed),h=(0,a.d4)(e=>e.settings.updateInterval);return(0,s.useEffect)(()=>{let e=()=>{fetch(d).then(e=>e.json()).then(e=>n(e)).catch(e=>{n([]),console.error("Fetch Cardano Db Snapshots error:",e)})};if(e(),h){let t=setInterval(e,h);return()=>clearInterval(t)}},[d,h,_]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eM,{hash:r,onHashChange:function(e){c(e)}}),(0,i.jsxs)("div",{className:e.className,children:[(0,i.jsxs)("h2",{children:["Cardano Db Snapshots"," ",(0,i.jsx)(es.A,{href:d,variant:"outline-light",size:"sm"})]}),0===Object.entries(t).length?(0,i.jsx)("p",{children:"No snapshot available"}):(0,i.jsx)(er.A,{fluid:!0,children:(0,i.jsx)(K.A,{xs:1,md:2,lg:3,xl:4,children:t.map((e,t)=>(0,i.jsx)(W.A,{className:"mb-2",children:(0,i.jsxs)(et.A,{border:0===t?"primary":"",children:[(0,i.jsxs)(et.A.Body,{children:[(0,i.jsx)(et.A.Title,{children:e.digest}),(0,i.jsxs)(ea.A,{variant:"flush",className:"data-list-group",children:[(0,i.jsxs)(ea.A.Item,{children:["Epoch: ",e.beacon.epoch]}),(0,i.jsxs)(ea.A.Item,{children:["Immutable file number: ",e.beacon.immutable_file_number]}),(0,i.jsxs)(ea.A.Item,{children:["Cardano node: ",e.cardano_node_version]}),(0,i.jsxs)(ea.A.Item,{children:["Compression: ",e.compression_algorithm]}),(0,i.jsxs)(ea.A.Item,{children:["Certificate hash: ",(0,i.jsx)("br",{}),e.certificate_hash," ",(0,i.jsx)(J.A,{size:"sm",onClick:()=>{c(e.certificate_hash)},children:"Show"})]}),(0,i.jsxs)(ea.A.Item,{children:["Created: ",(0,i.jsx)(eN,{datetime:e.created_at})]}),(0,i.jsxs)(ea.A.Item,{children:["Archive size: ",(0,Z.formatBytes)(e.size)]})]})]}),(0,i.jsx)(et.A.Footer,{children:(0,i.jsxs)(o.A,{direction:"horizontal",gap:1,children:[0===t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eb.A,{bg:"primary",children:"Latest"})," "]}),(0,i.jsx)(eb.A,{bg:"secondary",children:e.beacon.network}),(0,i.jsx)(es.A,{href:"".concat(l,"/snapshot/").concat(e.digest),size:"sm",className:"ms-auto"})]})})]})},e.digest))})})]})]})}function eV(e){let[t,n]=(0,s.useState)([]),[r,c]=(0,s.useState)(void 0),l=(0,a.d4)(Q.z1),d=(0,a.d4)(e=>"".concat((0,Q.z1)(e),"/artifact/cardano-stake-distributions")),_=(0,a.d4)(e=>e.settings.refreshSeed),h=(0,a.d4)(e=>e.settings.updateInterval);return(0,s.useEffect)(()=>{let e=()=>{fetch(d).then(e=>e.json()).then(e=>n(e)).catch(e=>{n([]),console.error("Fetch cardanoStakeDistributions error:",e)})};if(e(),h){let t=setInterval(e,h);return()=>clearInterval(t)}},[d,h,_]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eM,{aggregator:l,hash:r,onHashChange:function(e){c(e)}}),(0,i.jsxs)("div",{className:e.className,children:[(0,i.jsxs)("h2",{children:["Cardano Stake Distribution"," ",(0,i.jsx)(es.A,{href:d,variant:"outline-light",size:"sm"})]}),0===Object.entries(t).length?(0,i.jsx)("p",{children:"No cardano stake distribution available"}):(0,i.jsx)(er.A,{fluid:!0,children:(0,i.jsx)(K.A,{xs:1,md:2,lg:3,xl:4,children:t.map((e,t)=>(0,i.jsx)(W.A,{className:"mb-2",children:(0,i.jsxs)(et.A,{border:0===t?"primary":"",children:[(0,i.jsxs)(et.A.Body,{children:[(0,i.jsx)(et.A.Title,{children:e.hash}),(0,i.jsxs)(ea.A,{variant:"flush",className:"data-list-group",children:[(0,i.jsxs)(ea.A.Item,{children:["Epoch: ",e.epoch]}),e.created_at&&(0,i.jsxs)(ea.A.Item,{children:["Created:"," ",(0,i.jsx)(eN,{datetime:e.created_at})]}),(0,i.jsxs)(ea.A.Item,{children:["Certificate hash: ",(0,i.jsx)("br",{}),e.certificate_hash," ",(0,i.jsx)(J.A,{size:"sm",onClick:()=>{c(e.certificate_hash)},children:"Show"})]})]})]}),(0,i.jsx)(et.A.Footer,{children:(0,i.jsxs)(o.A,{direction:"horizontal",gap:1,children:[0===t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eb.A,{bg:"primary",children:"Latest"})," "]}),(0,i.jsx)(es.A,{href:"".concat(l,"/artifact/cardano-stake-distribution/").concat(e.hash),size:"sm",className:"ms-auto"})]})})]})},e.hash))})})]})]})}function eD(e){let{maxAllowedHashesByRequest:t}=e,n=Math.max(t,1);return(0,i.jsx)(Y.A,{children:(0,i.jsxs)(G.A,{hasValidation:!0,children:[(0,i.jsx)(J.A,{type:"submit",children:"Certify transactions"}),(0,i.jsx)(q.A.Control,{name:"txHashes",type:"text",placeholder:"comma-separated list of transactions hashes",required:!0,pattern:" *(\\w+ *, *){0,".concat(n-1,"}\\w+,? *")}),(0,i.jsx)(q.A.Control.Feedback,{type:"invalid",children:"Please provide a comma-separated list of transactions hashes."})]})})}function eL(e){let t,{currentStep:n,isProofValid:r,isCertificateChainValid:s,onStepClick:a=e=>{}}=e,c=[{step:eY.fetchingProof,text:"Fetching Transactions Proof"},{step:eY.validatingProof,text:"Verifying Transactions Proof"},{step:eY.validatingCertificateChain,text:"Validating Certificate Chain"}];return(0,i.jsxs)(ea.A,{horizontal:"sm",activeKey:n,numbered:!0,children:[c.map(e=>{let{step:t,text:c}=e;return(0,i.jsxs)(ea.A.Item,{action:!0,eventKey:t,disabled:t>eY.validatingProof&&!r,onClick:()=>a(t),variant:function(e,t){if(e<t)return"light";if(t===e)return"primary";let n="";switch(t){case eY.fetchingProof:n="light";break;case eY.validatingProof:n=r?"light":"danger";break;case eY.validatingCertificateChain:n=r&&s?"light":"danger"}return n}(n,t),children:[c," ",n===t&&(0,i.jsx)(ey.A,{size:"sm"})]},t)}),(0,i.jsx)(ea.A.Item,{action:!0,onClick:()=>a(eY.done),eventKey:eY.done,variant:(t="light",n===eY.done&&(t=r&&s?"success":"danger"),t),children:"Finish"})]})}var eU=n(9221),eq=n(1362);function eK(e){let{hash:t}=e,n=(0,a.d4)(e=>(0,eU.JN)(e)),r=(0,Z.getCExplorerUrl)(n),s=r?"".concat(r,"/tx/").concat(t):void 0;return(0,i.jsx)(eq.m,{url:s,text:t,textClass:"text-break",showCopyButton:!0})}function eW(e){let{certificate:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{className:"mb-2 px-2 fw-light",children:"The point of the Cardano chain used during the verification process."}),(0,i.jsxs)(ea.A,{horizontal:!0,children:[(0,i.jsxs)(ea.A.Item,{children:[(0,i.jsx)("span",{className:"fst-italic",children:"Epoch: "}),t.epoch]}),(0,i.jsxs)(ea.A.Item,{children:[(0,i.jsx)("span",{className:"fst-italic",children:"Block number: "}),t.signed_entity_type.CardanoTransactions[1]]})]})]})}function eG(e){let{transactions:t}=e;return(0,i.jsxs)(ex.A,{responsive:!0,striped:!0,children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Transaction Hash"}),(0,i.jsx)("th",{children:"Certified"})]})}),(0,i.jsx)("tbody",{children:t.map(e=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)(eK,{hash:e.hash})}),(0,i.jsx)("td",{children:e.certified?(0,i.jsx)(ek.A,{tooltip:"Certified by Mithril",variant:"success",icon:"mithril"}):(0,i.jsx)(ek.A,{tooltip:"Not certified",variant:"danger",icon:"shield-slash-fill"})})]},e.hash))})]})}function eJ(e){let{certificate:t,isSuccess:n,certifiedTransactions:r,nonCertifiedTransactions:a}=e,[c,o]=(0,s.useState)([]);return(0,s.useEffect)(()=>{let e=r.map(e=>({hash:e,certified:n})).concat(a.map(e=>({hash:e,certified:!1})));e.sort((e,t)=>e.hash<t.hash?-1:e.hash>t.hash?1:0),o(e)},[n,r,a]),(0,i.jsxs)(i.Fragment,{children:[n?(0,i.jsx)(eA.A,{variant:"success",className:"mb-2",children:(0,i.jsxs)(eA.A.Heading,{children:[(0,i.jsx)("i",{className:"mi mi-logo"})," Mithril certified the transactions"]})}):(0,i.jsxs)(eA.A,{variant:"danger",className:"mb-2",children:[(0,i.jsxs)(eA.A.Heading,{children:[(0,i.jsx)("i",{className:"text-danger bi bi-shield-slash"})," Mithril could not certify the transactions"]}),(0,i.jsx)("p",{className:"mb-1",children:"Either the transactions proof is invalid or none of the transactions is certified."}),(0,i.jsxs)("p",{className:"mb-0 fst-italic",children:[(0,i.jsx)("i",{className:"bi bi-info-circle"})," Mithril may still have to certify those transactions."]})]}),(0,i.jsx)("h5",{children:"Beacon"}),(0,i.jsx)(eW,{certificate:t}),(0,i.jsx)("h5",{className:"mt-2",children:"Transactions"}),(0,i.jsx)(eG,{transactions:c}),n&&a.length>0&&(0,i.jsxs)("p",{className:"mb-0 fst-italic",children:[(0,i.jsx)("i",{className:"bi bi-info-circle"})," Some transactions could not be certified, Mithril may still have to certify those transactions or they don't exist in the blockchain."]})]})}function eQ(e){let{transactionHashes:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h4",{children:"Fetching a transactions proof of membership from the aggregator"}),(0,i.jsxs)(ex.A,{responsive:!0,striped:!0,children:[(0,i.jsx)("thead",{children:(0,i.jsx)("tr",{children:(0,i.jsx)("th",{children:"Transaction Hash to certify"})})}),(0,i.jsx)("tbody",{children:t.map(e=>(0,i.jsx)("tr",{children:(0,i.jsx)("td",{children:(0,i.jsx)(eC.A,{hash:e})})},e))})]})]})}function eX(e){let{isProofValid:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h4",{children:"Checking transactions proof validity and certificate matching"}),(0,i.jsxs)(ex.A,{responsive:!0,striped:!0,children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Verification"}),(0,i.jsx)("th",{children:"Verified"})]})}),(0,i.jsx)("tbody",{children:["Transactions proof validity","Certificate matches transactions proof"].map(e=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e}),(0,i.jsx)("td",{children:t?(0,i.jsx)(ek.A,{variant:"success",tooltip:"yes",icon:"check-circle-fill"}):(0,i.jsx)(ek.A,{variant:"danger",tooltip:"no",icon:"x-circle"})})]},e))})]})]})}let eY={ready:1,fetchingProof:2,validatingProof:3,validatingCertificateChain:4,done:5};function eZ(e){let{transactionHashes:t,onHashesChange:n=e=>{}}=e,r=(0,a.d4)(e=>e.settings.selectedAggregator),[c,o]=(0,s.useState)(void 0),[l,_]=(0,s.useState)(void 0),[h,g]=(0,s.useState)(void 0),[u,f]=(0,s.useState)(eE.ready),[b,x]=(0,s.useState)({}),[m,j]=(0,s.useState)(!1),[w,p]=(0,s.useState)(!1),[v,y]=(0,s.useState)(!0),[A,C]=(0,s.useState)(eY.ready),[S,k]=(0,s.useState)(P(eY.ready)),[N,I]=(0,s.useState)(void 0);async function F(e,t){let n=new H(e,t,{unstable:!0});return o(n),n}async function z(e,t){let n=await e.get_cardano_transaction_proofs(t),r=await e.get_mithril_certificate(n.certificate_hash);x(n),_(r)}async function E(e,t,n){let r=await e.verify_cardano_transaction_proof_then_compute_message(t,n),i=await e.verify_message_match_certificate(r,n)===!0;return p(i),i}function T(e){console.error("Cardano Transactions Certification Error:",e),I(e),C(eY.done)}function P(e){switch(e){case eY.validatingCertificateChain:case eY.validatingProof:case eY.done:return"#step-".concat(e);case eY.ready:case eY.fetchingProof:default:return"#step-".concat(eY.fetchingProof)}}return(0,s.useEffect)(()=>{j(!1),p(!1),y(!0),_(void 0),C(eY.ready),I(void 0),(null==t?void 0:t.length)>0&&(0,Z.fetchGenesisVerificationKey)(r).then(e=>F(r,e)).then(()=>C(eY.fetchingProof)).catch(e=>T(e))},[r,t]),(0,s.useEffect)(()=>{u===eE.done&&(C(eY.done),j(!1))},[u]),(0,s.useEffect)(()=>{k(P(A))},[A]),(0,s.useEffect)(()=>{A===eY.fetchingProof&&z(c,t).then(()=>setTimeout(()=>{C(eY.validatingProof)},350)).catch(e=>T(e))},[c,A,t]),(0,s.useEffect)(()=>{A===eY.validatingProof&&void 0!==l&&E(c,b,l).then(e=>{if(e)return setTimeout(()=>{C(eY.validatingCertificateChain)},250);C(eY.done)}).catch(e=>T(e))},[c,A,b,l]),(0,i.jsxs)(X.A,{show:void 0!==t&&t.length>0,onHide:function(){A!==eY.done?j(!0):n([])},size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,i.jsx)(X.A.Header,{className:"text-break",closeButton:!0,children:(0,i.jsx)(X.A.Title,{id:"contained-modal-title-vcenter",children:"Cardano Transactions Certification"})}),(0,i.jsx)(X.A.Body,{children:A>eY.ready&&(0,i.jsxs)(d.A.Container,{activeKey:S,children:[(0,i.jsx)(K.A,{className:"mb-2",children:(0,i.jsxs)(W.A,{children:[(0,i.jsx)(eL,{currentStep:A,isProofValid:w,isCertificateChainValid:v,onStepClick:function(e){A===eY.done&&k(P(e))}}),m&&(0,i.jsx)(eA.A,{variant:"warning",className:"mt-2",children:"Verification is in progress. Please wait until the process is complete (less than a minute)."})]})}),(0,i.jsx)(K.A,{className:h?"d-none":"",children:(0,i.jsx)(W.A,{children:(0,i.jsxs)(d.A.Content,{children:[(0,i.jsx)(d.A.Pane,{eventKey:P(eY.fetchingProof),children:(0,i.jsx)(eQ,{transactionHashes:t})}),(0,i.jsx)(d.A.Pane,{eventKey:P(eY.validatingProof),children:(0,i.jsx)(eX,{isProofValid:w})}),(0,i.jsx)(d.A.Pane,{eventKey:P(eY.validatingCertificateChain),children:A>=eY.validatingCertificateChain&&w&&(0,i.jsx)(eB,{client:c,certificate:l,onStepChange:e=>f(e),onChainValidationError:()=>y(!1),onCertificateClick:function(e){A===eY.done&&g(e)},showCertificateLinks:!0,hideSpinner:!0})}),(0,i.jsxs)(d.A.Pane,{eventKey:P(eY.done),children:[A===eY.done&&void 0===N&&(0,i.jsx)(eJ,{isSuccess:w&&v,certificate:l,certifiedTransactions:b.transactions_hashes,nonCertifiedTransactions:b.non_certified_transactions}),A===eY.done&&void 0!==N&&(0,i.jsxs)(eA.A,{variant:"danger",className:"mb-2",children:[(0,i.jsxs)(eA.A.Heading,{children:[(0,i.jsx)("i",{className:"text-danger bi bi-shield-slash"})," Mithril could not certify the transactions"]}),(0,i.jsx)("p",{className:"mb-2",children:"An error occurred during the verification process. Please try again."}),(0,i.jsx)("hr",{}),(0,i.jsx)("pre",{className:"mb-0",children:(0,i.jsx)("code",{children:N.toString()})})]})]})]})})})]})}),(0,i.jsx)(X.A.Footer,{}),(0,i.jsx)(eM,{hash:h,onHashChange:e=>g(e),hideButtons:!0})]})}var e$=n(6061);function e0(e){var t,n;let[r,c]=(0,s.useState)([]),[l,d]=(0,s.useState)(void 0),[_,h]=(0,s.useState)(!1),[g,u]=(0,s.useState)([]),f=(0,a.d4)(Q.z1),b=(0,a.d4)(e=>"".concat((0,Q.z1)(e),"/artifact/cardano-transactions")),x=(0,a.d4)(e=>e.settings.refreshSeed),m=(0,a.d4)(e=>e.settings.updateInterval),j=(0,a.d4)(e=>(0,Q.v)(e));return(0,s.useEffect)(()=>{let e=()=>{fetch(b).then(e=>e.json()).then(e=>c(e)).catch(e=>{c([]),console.error("Fetch cardano transactions snapshots error:",e)})};if(e(),m){let t=setInterval(e,m);return()=>clearInterval(t)}},[b,m,x]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eM,{hash:l,onHashChange:function(e){d(e)}}),(0,i.jsx)(eZ,{transactionHashes:g,onHashesChange:function(e){u(e)}}),(0,i.jsxs)("div",{className:e.className,children:[(0,i.jsxs)("h2",{children:["Cardano Transactions Snapshots"," ",(0,i.jsx)(es.A,{href:b,variant:"outline-light",size:"sm"})]}),(0,i.jsxs)(er.A,{fluid:!0,children:[(0,i.jsx)(K.A,{className:"mb-2",children:(0,i.jsx)(q.A,{onSubmit:function(e){e.preventDefault();let t=e.target;if(!0===t.checkValidity()){var n;let e=Object.fromEntries(new FormData(t).entries()),r=(null!==(n=null==e?void 0:e.txHashes)&&void 0!==n?n:"").split(",").map(e=>e.trim()).filter(e=>e.length>0);r.sort(),u(r),h(!1)}else h(!0)},noValidate:!0,validated:_,children:(0,i.jsx)(K.A,{children:(0,i.jsx)(eD,{maxAllowedHashesByRequest:null!==(n=null==j?void 0:null===(t=j.cardano_transactions_prover)||void 0===t?void 0:t.max_hashes_allowed_by_request)&&void 0!==n?n:e$.defaultAggregatorCapabilities.cardano_transactions_prover.max_hashes_allowed_by_request})})})}),0===Object.entries(r).length?(0,i.jsx)("p",{children:"No Cardano Transactions Snapshot available"}):(0,i.jsx)(K.A,{xs:1,md:2,lg:3,xl:4,children:r.map((e,t)=>(0,i.jsx)(W.A,{className:"mb-2",children:(0,i.jsxs)(et.A,{border:0===t?"primary":"",children:[(0,i.jsxs)(et.A.Body,{children:[(0,i.jsx)(et.A.Title,{children:e.hash}),(0,i.jsxs)(ea.A,{variant:"flush",className:"data-list-group",children:[(0,i.jsxs)(ea.A.Item,{children:["Epoch: ",e.epoch]}),(0,i.jsxs)(ea.A.Item,{children:["Block Number: ",e.block_number]}),(0,i.jsxs)(ea.A.Item,{children:["Merkle Root: ",e.merkle_root]}),(0,i.jsxs)(ea.A.Item,{children:["Certificate hash: ",(0,i.jsx)("br",{}),e.certificate_hash," ",(0,i.jsx)(J.A,{size:"sm",onClick:()=>{d(e.certificate_hash)},children:"Show"})]}),(0,i.jsxs)(ea.A.Item,{children:["Created:"," ",(0,i.jsx)(eN,{datetime:e.created_at})]})]})]}),(0,i.jsx)(et.A.Footer,{children:(0,i.jsxs)(o.A,{direction:"horizontal",gap:1,children:[0===t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eb.A,{bg:"primary",children:"Latest"})," "]}),(0,i.jsx)(es.A,{href:"".concat(f,"/artifact/cardano-transaction/").concat(e.hash),size:"sm",className:"ms-auto"})]})})]})},e.hash))})]})]})]})}function e1(e){let[t,n]=(0,s.useState)([]),[r,c]=(0,s.useState)(void 0),l=(0,a.d4)(Q.z1),d=(0,a.d4)(e=>"".concat((0,Q.z1)(e),"/certificates")),_=(0,a.d4)(e=>e.settings.refreshSeed),h=(0,a.d4)(e=>e.settings.updateInterval);return(0,s.useEffect)(()=>{let e=()=>{fetch(d).then(e=>e.json()).then(e=>n(e)).catch(e=>{n([]),console.error("Fetch certificates error:",e)})};if(e(),h){let t=setInterval(e,h);return()=>clearInterval(t)}},[d,h,_]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eM,{hash:r,onHashChange:function(e){c(e)}}),(0,i.jsxs)("div",{className:e.className,children:[(0,i.jsxs)("h2",{children:["Certificates"," ",(0,i.jsx)(es.A,{href:d,variant:"outline-light",size:"sm"})]}),0===Object.entries(t).length?(0,i.jsx)("p",{children:"No certificate available"}):(0,i.jsx)(er.A,{fluid:!0,children:(0,i.jsx)(K.A,{xs:1,md:2,lg:3,xl:4,children:t.map((e,t)=>(0,i.jsx)(W.A,{className:"mb-2",children:(0,i.jsxs)(et.A,{border:0===t?"primary":"",children:[(0,i.jsxs)(et.A.Body,{children:[(0,i.jsxs)(et.A.Title,{children:[e.hash," ",(0,i.jsx)(J.A,{size:"sm",onClick:()=>{c(e.hash)},children:"Details"})]}),(0,i.jsxs)(ea.A,{variant:"flush",className:"data-list-group",children:[(0,i.jsxs)(ea.A.Item,{children:["Parent hash: ",e.previous_hash," ",(0,i.jsx)(J.A,{size:"sm",onClick:()=>{c(e.previous_hash)},children:"Show"})]}),(0,i.jsxs)(ea.A.Item,{children:["Epoch: ",e.epoch]}),(0,i.jsxs)(ea.A.Item,{children:["Beacon:"," ",(0,i.jsx)(ep,{signedEntityType:e.signed_entity_type,table:!0})]}),(0,i.jsxs)(ea.A.Item,{children:["Number of signers: ",e.metadata.total_signers]}),(0,i.jsxs)(ea.A.Item,{children:["Initiated at:"," ",(0,i.jsx)(eN,{datetime:e.metadata.initiated_at})]}),(0,i.jsxs)(ea.A.Item,{children:["Sealed at: ",(0,i.jsx)(eN,{datetime:e.metadata.sealed_at})]})]})]}),(0,i.jsx)(et.A.Footer,{children:(0,i.jsxs)(o.A,{direction:"horizontal",gap:1,children:[0===t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eb.A,{bg:"primary",children:"Latest"})," "]}),(0,i.jsx)(eb.A,{bg:"secondary",children:e.metadata.network}),(0,i.jsx)(es.A,{href:"".concat(l,"/certificate/").concat(e.hash),size:"sm",className:"ms-auto"})]})})]})},e.hash))})})]})]})}function e2(e){let[t,n]=(0,s.useState)([]),[r,c]=(0,s.useState)(void 0),l=(0,a.d4)(Q.z1),d=(0,a.d4)(e=>"".concat((0,Q.z1)(e),"/artifact/mithril-stake-distributions")),_=(0,a.d4)(e=>e.settings.refreshSeed),h=(0,a.d4)(e=>e.settings.updateInterval);return(0,s.useEffect)(()=>{let e=()=>{fetch(d).then(e=>e.json()).then(e=>n(e)).catch(e=>{n([]),console.error("Fetch mithrilStakeDistributions error:",e)})};if(e(),h){let t=setInterval(e,h);return()=>clearInterval(t)}},[d,h,_]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eM,{aggregator:l,hash:r,onHashChange:function(e){c(e)}}),(0,i.jsxs)("div",{className:e.className,children:[(0,i.jsxs)("h2",{children:["Mithril Stake Distribution"," ",(0,i.jsx)(es.A,{href:d,variant:"outline-light",size:"sm"})]}),0===Object.entries(t).length?(0,i.jsx)("p",{children:"No mithril stake distribution available"}):(0,i.jsx)(er.A,{fluid:!0,children:(0,i.jsx)(K.A,{xs:1,md:2,lg:3,xl:4,children:t.map((e,t)=>(0,i.jsx)(W.A,{className:"mb-2",children:(0,i.jsxs)(et.A,{border:0===t?"primary":"",children:[(0,i.jsxs)(et.A.Body,{children:[(0,i.jsx)(et.A.Title,{children:e.hash}),(0,i.jsxs)(ea.A,{variant:"flush",className:"data-list-group",children:[(0,i.jsxs)(ea.A.Item,{children:["Epoch: ",e.epoch]}),e.created_at&&(0,i.jsxs)(ea.A.Item,{children:["Created:"," ",(0,i.jsx)(eN,{datetime:e.created_at})]}),(0,i.jsxs)(ea.A.Item,{children:["Certificate hash: ",(0,i.jsx)("br",{}),e.certificate_hash," ",(0,i.jsx)(J.A,{size:"sm",onClick:()=>{c(e.certificate_hash)},children:"Show"})]})]})]}),(0,i.jsx)(et.A.Footer,{children:(0,i.jsxs)(o.A,{direction:"horizontal",gap:1,children:[0===t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eb.A,{bg:"primary",children:"Latest"})," "]}),(0,i.jsx)(es.A,{href:"".concat(l,"/artifact/mithril-stake-distribution/").concat(e.hash),size:"sm",className:"ms-auto"})]})})]})},e.hash))})})]})]})}_.t1.register(_.Bs,_.PP,_.kc,_.E8,_.hE,_.m_,_.s$),(0,ew.W6)(_.t1);let e4=e$.signedEntityType.CardanoImmutableFilesFull;function e3(){let e=(0,c.useSearchParams)(),t=(0,a.wA)(),[n,r]=(0,s.useState)(!1),[_,h]=(0,s.useState)(!1),[g,u]=(0,s.useState)(!1),[f,b]=(0,s.useState)(e4),x=(0,a.d4)(Q.z1),m=(0,a.d4)(e=>(0,Q.CV)(e));return(0,s.useEffect)(()=>{h(m.includes(e$.signedEntityType.CardanoTransactions)),u(m.includes(e$.signedEntityType.CardanoStakeDistribution))},[m]),(0,s.useEffect)(()=>{_||f!==e$.signedEntityType.CardanoTransactions||b(e4)},[f,_]),(0,s.useEffect)(()=>{D().catch(e=>console.error("Mithril-client-wasm init error:",e))},[]),(0,s.useEffect)(()=>{if(x!==e.get(e$.aggregatorSearchParam)){let e=new URLSearchParams;e.set("aggregator",x),r(!0),window.history.pushState(null,"","?".concat(e.toString()))}t((0,eU.Vf)(x))},[x]),(0,s.useEffect)(()=>{!function(){if(n)r(!1);else{let n=e.get("aggregator");t((0,Q.QB)(n))}}()},[e]),(0,i.jsxs)(o.A,{gap:3,children:[(0,i.jsx)(ef,{}),(0,i.jsxs)(l.A,{activeKey:f,onSelect:e=>b(e),children:[(0,i.jsx)(d.A,{title:"Cardano Db",eventKey:e$.signedEntityType.CardanoImmutableFilesFull,children:(0,i.jsx)(eH,{})}),_&&(0,i.jsx)(d.A,{title:"Cardano Transactions",eventKey:e$.signedEntityType.CardanoTransactions,children:(0,i.jsx)(e0,{})}),g&&(0,i.jsx)(d.A,{title:"Cardano Stake Distribution",eventKey:e$.signedEntityType.CardanoStakeDistribution,children:(0,i.jsx)(eV,{})}),(0,i.jsx)(d.A,{title:"Mithril Stake Distribution",eventKey:e$.signedEntityType.MithrilStakeDistribution,children:(0,i.jsx)(e2,{})}),(0,i.jsx)(d.A,{title:"Certificates",eventKey:"certificates",children:(0,i.jsx)(e1,{})})]})]})}},4281:(e,t,n)=>{"use strict";n.d(t,{W6:()=>a,an:()=>i,h1:()=>s});var r=n(6817);function i(e){let t=e=>e/1e12,n=(null!=e?e:[]).map(e=>t(e.stake));return{labels:["< 1M₳","≥ 1M₳ < 10M₳","≥ 10M₳ < 25M₳","≥ 25M₳ < 50M₳","≥ 50M₳ < 75M₳","≥ 75M₳ < 100M₳","≥ 100M₳"],datasets:[{label:"Number of signers",data:[n.filter(e=>e<1).length,n.filter(e=>e>=1&&e<10).length,n.filter(e=>e>=10&&e<25).length,n.filter(e=>e>=25&&e<50).length,n.filter(e=>e>=50&&e<75).length,n.filter(e=>e>=75&&e<100).length,n.filter(e=>e>100).length]}]}}function s(e){let t=null!=e?e:[];return{labels:t.map(e=>e.party_id),datasets:[{label:"Stake (₳)",data:t.map(e=>(0,r.toAda)(e.stake))}]}}function a(e){let t=["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],n=["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"];e.defaults.plugins.legend.display=!1,e.defaults.elements.arc.backgroundColor=t,e.defaults.elements.arc.borderColor=n,e.defaults.elements.arc.borderWidth=1,e.defaults.elements.bar.backgroundColor=t,e.defaults.elements.bar.borderColor=n,e.defaults.elements.bar.borderWidth=1}},2193:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(5155);n(2115);var i=n(7396);function s(e){let{href:t,children:n,className:s,disabled:a,variant:c="primary",...o}=e;return!0===a?s="".concat(s," disabled"):a=!1,(0,r.jsx)(i.default,{href:t,"aria-disabled":a,className:"btn btn-".concat(c," link-underline-opacity-0 ").concat(s),...o,children:n})}},5491:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(5155);n(2115);var i=n(1032),s=n(1334),a=n(2963);function c(e){let{tooltip:t="Raw JSON",color:n="black",...c}=e;return(0,r.jsx)(i.A,{overlay:(0,r.jsx)(s.A,{children:t}),children:(0,r.jsx)(a.A,{variant:"outline-secondary",target:"_blank",...c,children:(0,r.jsx)("i",{className:"bi bi-filetype-json text-".concat(n)})})})}},6291:(e,t,n)=>{"use strict";n.d(t,{CV:()=>j,Oz:()=>_,PY:()=>h,QB:()=>u,XN:()=>g,rT:()=>f,sI:()=>d,ue:()=>l,v:()=>m,z1:()=>x});var r=n(8943),i=n(8692),s=n.n(i),a=n(8697),c=n(6817),o=n(6061);let l={updateInterval:1e4,refreshSeed:0,selectedAggregator:a.A[0],availableAggregators:a.A,aggregatorCapabilities:o.defaultAggregatorCapabilities,canRemoveSelected:!1},d=(0,r.Z0)({name:"settings",initialState:l,reducers:{setUpdateInterval:(e,t)=>{let n=t.payload;e.updateInterval=!Number.isNaN(n)&&Number.isInteger(n)?n:void 0},changeRefreshSeed:e=>{e.refreshSeed=Math.random()},selectAggregator:(e,t)=>{if(!(0,c.checkUrl)(t.payload))return e;let n=e.availableAggregators.includes(t.payload)?e.availableAggregators:[...e.availableAggregators,t.payload];return{...e,selectedAggregator:t.payload,availableAggregators:n,canRemoveSelected:!a.A.includes(t.payload)}},removeSelectedAggregator:e=>a.A.includes(e.selectedAggregator)?e:{...e,selectedAggregator:e.availableAggregators.at(0),availableAggregators:e.availableAggregators.filter(t=>t!==e.selectedAggregator),canRemoveSelected:!a.A.includes(e.availableAggregators.at(0))},updateSelectedAggregatorCapabilities:(e,t)=>({...e,aggregatorCapabilities:t.payload})}}),_=e=>{e.startListening({actionCreator:u,effect:async(e,t)=>{let n=e.payload;if(n){let e=await s().fetchAggregatorCapabilities(n);t.dispatch(b(e))}}})},{setUpdateInterval:h,changeRefreshSeed:g,selectAggregator:u,removeSelectedAggregator:f,updateSelectedAggregatorCapabilities:b}=d.actions,x=e=>e.settings.selectedAggregator,m=e=>{var t,n;return null!==(n=null===(t=e.settings)||void 0===t?void 0:t.aggregatorCapabilities)&&void 0!==n?n:o.defaultAggregatorCapabilities},j=e=>{var t,n,r;return null!==(r=null===(n=e.settings)||void 0===n?void 0:null===(t=n.aggregatorCapabilities)||void 0===t?void 0:t.signed_entity_types)&&void 0!==r?r:[]};d.reducer},8413:e=>{e.exports={events:"styles_events__fx6_1",error:"styles_error__jDHvR"}}},e=>{var t=t=>e(e.s=t);e.O(0,[130,647,827,357,839,612,880,85,435,441,517,358],()=>t(4345)),_N_E=e.O()}]);